<!DOCTYPE html> <html lang="vi"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Quáº£n lÃ½ Email Online</title> <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script> <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script> <style> body { font-family: sans-serif; background: #f0f2f5; display: flex; flex-direction: column; align-items: center; padding: 20px; } textarea, input, button { font-size: 16px; width: 90%; max-width: 340px; margin-top: 10px; padding: 12px; border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box; } button { background: #007bff; color: white; border: none; cursor: pointer; transition: background 0.3s; } button:hover { background: #0056b3; } .input-container { display: flex; gap: 10px; align-items: center; width: 90%; max-width: 340px; margin-top: 10px; } #manualCopyButton { max-width: 60px; padding: 10px; } #deleteListButton { background: #dc3545; } #deleteListButton:hover { background: #a71d2a; } #copyButton { font-size: 20px; padding: 18px; width: 95%; max-width: 380px; margin-top: 30px; background: #28a745; } #copyButton:hover { background: #1c7c31; } </style> </head> <body> <h3>ğŸ“¨ Quáº£n lÃ½ danh sÃ¡ch Email Online</h3> <textarea id="emailListInput" placeholder="DÃ¡n email cáº§n thÃªm, má»—i email 1 dÃ²ng..."></textarea>
<button id="addListButton">â• ThÃªm Email VÃ o Danh SÃ¡ch</button>
<button id="deleteListButton">ğŸ—‘ï¸ XÃ³a Danh SÃ¡ch Email</button>

<div class="input-container"> <input type="text" id="emailOutput" placeholder="Email sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y" readonly /> <button id="manualCopyButton">ğŸ“‹</button> </div> <p id="count"></p> <p id="output"></p>
<button id="copyButton">ğŸ“‹ Láº¥y & Copy Email</button>

<script> // === Firebase Config === const firebaseConfig = { apiKey: "AIzaSyDK3Y3P-bz4jM2p_5kVqid-P7Q80sRHkfE", authDomain: "email-sync-tool-96986.firebaseapp.com", databaseURL: "https://email-sync-tool-96986-default-rtdb.asia-southeast1.firebasedatabase.app", projectId: "email-sync-tool-96986", storageBucket: "email-sync-tool-96986.firebasestorage.app", messagingSenderId: "1037617074734", appId: "1:1037617074734:web:769074e6da0efc030d45bf" }; firebase.initializeApp(firebaseConfig); const db = firebase.database(); const emailRef = db.ref('emails'); let emailList = []; function updateCount() { document.getElementById('count').textContent = `ğŸ“Š Sá»‘ email cÃ²n láº¡i: ${emailList.length}`; } function copyText(text) { if (navigator.clipboard && window.isSecureContext) { navigator.clipboard.writeText(text).then(() => { document.getElementById('output').textContent = `âœ… ÄÃ£ copy: ${text}`; }).catch(() => { fallbackCopy(text); }); } else { fallbackCopy(text); } } function fallbackCopy(text) { const textarea = document.createElement("textarea"); textarea.value = text; textarea.style.position = "fixed"; textarea.style.left = "-9999px"; document.body.appendChild(textarea); textarea.focus(); textarea.select(); try { const successful = document.execCommand('copy'); document.getElementById('output').textContent = successful ? `âœ… ÄÃ£ copy: ${text}` : 'âš ï¸ KhÃ´ng thá»ƒ copy.'; } catch { document.getElementById('output').textContent = 'âš ï¸ Lá»—i khi copy.'; } document.body.removeChild(textarea); } // Load danh sÃ¡ch mail realtime emailRef.on('value', snapshot => { const data = snapshot.val(); emailList = data ? data : []; updateCount(); }); // ThÃªm danh sÃ¡ch mail, loáº¡i bá» trÃ¹ng (so sÃ¡nh khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng) document.getElementById('addListButton').addEventListener('click', () => { const input = document.getElementById('emailListInput').value.trim(); if (!input) { document.getElementById('output').textContent = 'âš ï¸ Vui lÃ²ng dÃ¡n danh sÃ¡ch email.'; return; } // TÃ¡ch danh sÃ¡ch email, trim, lá»c rá»—ng let newEmails = input.split(/\r?\n|\r|\u2028/).map(e => e.trim()).filter(e => e); if (newEmails.length === 0) { document.getElementById('output').textContent = 'âš ï¸ KhÃ´ng cÃ³ email há»£p lá»‡.'; return; } emailRef.transaction(currentList => { const updatedList = currentList ? currentList.slice() : []; const existingSet = new Set(updatedList.map(e => e.toLowerCase())); const newSet = new Set(); // Lá»c bá» email trÃ¹ng trong newEmails vÃ  vá»›i danh sÃ¡ch hiá»‡n táº¡i newEmails = newEmails.filter(email => { const lower = email.toLowerCase(); if (existingSet.has(lower) || newSet.has(lower)) { return false; // trÃ¹ng láº·p } newSet.add(lower); return true; }); // ThÃªm email lá»c vÃ o danh sÃ¡ch updatedList.push(...newEmails); return updatedList; }, (error, committed, snapshot) => { if (error) { document.getElementById('output').textContent = 'âš ï¸ Lá»—i khi thÃªm email.'; } else if (!committed) { document.getElementById('output').textContent = 'âš ï¸ KhÃ´ng thá»ƒ thÃªm email.'; } else { const updatedList = snapshot.val() ? snapshot.val() : []; const updatedCount = updatedList.length; document.getElementById('output').textContent = `âœ… ÄÃ£ thÃªm ${newEmails.length} email (Ä‘Ã£ lá»c trÃ¹ng), tá»•ng cá»™ng: ${updatedCount}.`; document.getElementById('emailListInput').value = ''; updateCount(); } }); }); // XÃ³a toÃ n bá»™ danh sÃ¡ch document.getElementById('deleteListButton').addEventListener('click', () => { if (!confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a toÃ n bá»™ danh sÃ¡ch email?")) return; emailRef.set([], (error) => { if (error) { document.getElementById('output').textContent = 'âš ï¸ Lá»—i khi xÃ³a danh sÃ¡ch.'; } else { document.getElementById('output').textContent = 'âœ… ÄÃ£ xÃ³a toÃ n bá»™ danh sÃ¡ch email.'; emailList = []; updateCount(); } }); }); // Copy thá»§ cÃ´ng email hiá»‡n ra Ã´ input document.getElementById('manualCopyButton').addEventListener('click', () => { const email = document.getElementById('emailOutput').value; if (!email) { document.getElementById('output').textContent = 'âš ï¸ KhÃ´ng cÃ³ email Ä‘á»ƒ copy.'; return; } copyText(email); }); document.getElementById('copyButton').addEventListener('click', () => { const copyBtn = document.getElementById('copyButton'); copyBtn.disabled = true; emailRef.transaction(currentList => { if (!currentList || currentList.length === 0) { document.getElementById('output').textContent = 'âœ… Danh sÃ¡ch Ä‘Ã£ háº¿t email.'; copyBtn.disabled = false; return currentList; } // Chá»n email Ä‘áº§u tiÃªn, hoáº·c cÃ³ thá»ƒ chá»n random náº¿u thÃ­ch const fullEmail = currentList[0]; const email = fullEmail.split('|')[0]; // LÆ°u láº¡i Ä‘á»ƒ show ra sau khi commit emailList = currentList.slice(); emailList.splice(0, 1); // xÃ³a email Ä‘áº§u tiÃªn // Cáº­p nháº­t danh sÃ¡ch má»›i (khÃ´ng cÃ³ email Ä‘Ã£ láº¥y) // tráº£ vá» giÃ¡ trá»‹ Ä‘Ã£ xoÃ¡ email Ä‘á»ƒ xá»­ lÃ½ ngoÃ i transaction emailRef.newEmailTaken = email; // táº¡m lÆ°u return emailList; }, (error, committed, snapshot) => { copyBtn.disabled = false; if (error) { document.getElementById('output').textContent = 'âš ï¸ Lá»—i khi láº¥y email.'; } else if (!committed) { document.getElementById('output').textContent = 'âš ï¸ KhÃ´ng thá»ƒ láº¥y email.'; } else { // Láº¥y email khá»i biáº¿n táº¡m bÃªn trÃªn const email = emailRef.newEmailTaken || null; if (email) { copyText(email); document.getElementById('emailOutput').value = email; updateCount(); emailRef.newEmailTaken = null; // reset } emailList = snapshot.val() || []; } }); }); </script> </body> </html>
